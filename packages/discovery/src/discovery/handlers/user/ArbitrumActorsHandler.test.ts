import { expect, mockObject } from 'earl'

import { EthereumAddress } from '../../../utils/EthereumAddress'
import { Hash256 } from '../../../utils/Hash256'
import { DiscoveryLogger } from '../../DiscoveryLogger'
import { DiscoveryProvider } from '../../provider/DiscoveryProvider'
import { TraceTransactionResponse } from '../../provider/TransactionTrace'
import { ArbitrumActorsHandler } from './ArbitrumActorsHandler'

describe(ArbitrumActorsHandler.name, () => {
  it('returns validators from the traces that add and remove them', async () => {
    const handler = new ArbitrumActorsHandler(
      'validators',
      { type: 'arbitrumActors', actorType: 'validator' },
      DiscoveryLogger.SILENT,
    )

    const contractAddress = EthereumAddress.random()

    const provider = mockObject<DiscoveryProvider>({
      getLogs: async () => EXAMPLE_VALIDATORS_LOGS,
      getTransactionTrace: async (transactionHash: Hash256) => {
        return TraceTransactionResponse.parse(
          EXAMPLE_VALIDATORS_TRACES[transactionHash.toString()],
        )
      },
    })

    const response = await handler.execute(provider, contractAddress, 0)

    expect(response).toEqual({
      field: 'validators',
      value: [
        '0x54c0D3d6C101580dB3be8763A2aE2c6bb9dc840c',
        '0xF8D3E1cF58386c92B27710C6a0D8A54c76BC6ab5',
      ],
    })
  })

  it('returns batch posters from the traces that add and remove them', async () => {
    const handler = new ArbitrumActorsHandler(
      'batchPosters',
      { type: 'arbitrumActors', actorType: 'batchPoster' },
      DiscoveryLogger.SILENT,
    )

    const contractAddress = EthereumAddress.random()

    const provider = mockObject<DiscoveryProvider>({
      getLogs: async () => EXAMPLE_BATCHPOSTERS_LOGS,
      getTransactionTrace: async (transactionHash: Hash256) => {
        return TraceTransactionResponse.parse(
          EXAMPLE_BATCHPOSTERS_TRACES[transactionHash.toString()],
        )
      },
    })

    const response = await handler.execute(provider, contractAddress, 0)

    expect(response).toEqual({
      field: 'batchPosters',
      value: ['0x0C5911d57B24FCF1DC8B2608eFbAe57C7098E32D'],
    })
  })
})

const EXAMPLE_VALIDATORS_LOGS = [
  {
    blockNumber: 15447582,
    blockHash:
      '0x7516f6f6e0590a0de69c1a54f8056a978b5964fbd502a5887701d65251c5d7a0',
    transactionIndex: 90,
    removed: false,
    address: '0x5eF0D09d1E6204141B4d37530808eD19f60FBa35',
    data: '0x',
    topics: [
      '0xea8787f128d10b2cc0317b0c3960f9ad447f7f6c1ed189db1083ccffd20f456e',
      '0x0000000000000000000000000000000000000000000000000000000000000006',
    ],
    transactionHash:
      '0x54a5c447871229b19eb454b891e91d1f0c627ed61b59e0d39cb8b183fd98a784',
    logIndex: 167,
  },
  {
    blockNumber: 15447818,
    blockHash:
      '0xdf78d90c477bce51f382672046050941f43ab3cfb6b5c70e9b396ca9e68fd3db',
    transactionIndex: 186,
    removed: false,
    address: '0x5eF0D09d1E6204141B4d37530808eD19f60FBa35',
    data: '0x',
    topics: [
      '0xea8787f128d10b2cc0317b0c3960f9ad447f7f6c1ed189db1083ccffd20f456e',
      '0x0000000000000000000000000000000000000000000000000000000000000006',
    ],
    transactionHash:
      '0x8a0f1ed4e4843538603498af26fce2e0daea9b8464281f5d86c19e18840a8749',
    logIndex: 327,
  },
  {
    blockNumber: 15936655,
    blockHash:
      '0x57b5b1fac54bb837af57391a82d1a0f19475896d68d24e225a59a41052f1c572',
    transactionIndex: 135,
    removed: false,
    address: '0x5eF0D09d1E6204141B4d37530808eD19f60FBa35',
    data: '0x',
    topics: [
      '0xea8787f128d10b2cc0317b0c3960f9ad447f7f6c1ed189db1083ccffd20f456e',
      '0x0000000000000000000000000000000000000000000000000000000000000006',
    ],
    transactionHash:
      '0x7ab32e92affce49bee428de60459d579aaed0bd128fb25be6debdedea80075b4',
    logIndex: 221,
  },
]

const EXAMPLE_VALIDATORS_TRACES: record<string, unknown> = {
  // Add validator '0x83215480dB2C6A7E56f9E99EF93AB9B36F8A3DD5'
  '0x54a5c447871229b19eb454b891e91d1f0c627ed61b59e0d39cb8b183fd98a784': [
    {
      action: {
        callType: 'call',
        from: '0x80420b3216e87e4ed25489ef392901aafc10951b',
        to: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        value: '0x0',
        input:
          '0x6a7612020000000000000000000000005ef0d09d1e6204141b4d37530808ed19f60fba3500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024000000000000000000000000000000000000000000000000000000000000000c4a3ffb77200000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000100000000000000000000000083215480db2c6a7e56f9e99ef93ab9b36f8a3dd5000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001048600d14dc43a7a7f9b215fdfd21ff7ed68ebf307c2c0f0a0b6802931f2f911cb2290a7dea6ed3eb9e6491bbb9a63fa43b276b07dad521fbe03bb1aca1293f60d1c350ad37ef22b17873b40efcaee1f8df72a316e80a39f758bfa91247158dc033259b48fbab13a2e648ee52eca6fdf74b5f4270021a5ae22a6d53774aa121d81b21c904848635550e1a24e5cd4200f8e6f3fde9219e4d92e15b1a34970bdf1aabe95157edc4d1d3ee2a4902db7c186eee02db5111d3ecdd21c25ea5a1a67f1accfae1c62b60ff6a028f364ddef392fe366ae542ccabbbd9bf0be9d9c829fcec58ad5424feb81e16bb66796be2647f686a6a13bf7421f286b8852d27ddd4bf175982e601c00000000000000000000000000000000000000000000000000000000',
        gas: '0x13651',
      },
      result: {
        gasUsed: '0x131f3',
        output:
          '0x0000000000000000000000000000000000000000000000000000000000000001',
      },
      traceAddress: [],
      subtraces: 1,
      type: 'call',
      blockNumber: 15447582,
    },
    {
      action: {
        callType: 'delegatecall',
        from: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        to: '0xd9db270c1b5e3bd161e8c8503c55ceabee709552',
        value: '0x0',
        input:
          '0x6a7612020000000000000000000000005ef0d09d1e6204141b4d37530808ed19f60fba3500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024000000000000000000000000000000000000000000000000000000000000000c4a3ffb77200000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000100000000000000000000000083215480db2c6a7e56f9e99ef93ab9b36f8a3dd5000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001048600d14dc43a7a7f9b215fdfd21ff7ed68ebf307c2c0f0a0b6802931f2f911cb2290a7dea6ed3eb9e6491bbb9a63fa43b276b07dad521fbe03bb1aca1293f60d1c350ad37ef22b17873b40efcaee1f8df72a316e80a39f758bfa91247158dc033259b48fbab13a2e648ee52eca6fdf74b5f4270021a5ae22a6d53774aa121d81b21c904848635550e1a24e5cd4200f8e6f3fde9219e4d92e15b1a34970bdf1aabe95157edc4d1d3ee2a4902db7c186eee02db5111d3ecdd21c25ea5a1a67f1accfae1c62b60ff6a028f364ddef392fe366ae542ccabbbd9bf0be9d9c829fcec58ad5424feb81e16bb66796be2647f686a6a13bf7421f286b8852d27ddd4bf175982e601c00000000000000000000000000000000000000000000000000000000',
        gas: '0x11e71',
      },
      result: {
        gasUsed: '0x11e71',
        output:
          '0x0000000000000000000000000000000000000000000000000000000000000001',
      },
      traceAddress: [0],
      subtraces: 1,
      type: 'call',
      blockNumber: 15447582,
    },
    {
      action: {
        callType: 'call',
        from: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        to: '0x5ef0d09d1e6204141b4d37530808ed19f60fba35',
        value: '0x0',
        input:
          '0xa3ffb77200000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000100000000000000000000000083215480db2c6a7e56f9e99ef93ab9b36f8a3dd500000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001',
        gas: '0x82c9',
      },
      result: { gasUsed: '0x7e10', output: '0x' },
      traceAddress: [0, 0],
      subtraces: 1,
      type: 'call',
      blockNumber: 15447582,
    },
    {
      action: {
        callType: 'delegatecall',
        from: '0x5ef0d09d1e6204141b4d37530808ed19f60fba35',
        to: '0x75fc5465c4bad74b367ac917f7298ad66c308fb8',
        value: '0x0',
        input:
          '0xa3ffb77200000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000100000000000000000000000083215480db2c6a7e56f9e99ef93ab9b36f8a3dd500000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001',
        gas: '0x6494',
      },
      result: { gasUsed: '0x614d', output: '0x' },
      traceAddress: [0, 0, 0],
      subtraces: 0,
      type: 'call',
      blockNumber: 15447582,
    },
  ],
  // Add another validator
  '0x8a0f1ed4e4843538603498af26fce2e0daea9b8464281f5d86c19e18840a8749': [
    {
      action: {
        callType: 'call',
        from: '0x80420b3216e87e4ed25489ef392901aafc10951b',
        to: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        value: '0x0',
        input:
          '0x6a7612020000000000000000000000005ef0d09d1e6204141b4d37530808ed19f60fba3500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024000000000000000000000000000000000000000000000000000000000000000c4a3ffb772000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8d3e1cf58386c92b27710c6a0d8a54c76bc6ab500000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000104a4ea023152243195f81a0cefe7c331dee302aa88b547e8cc43ec9df732b7eab506cd3a8dd11bdbcc498da368dfdb416bfff64b635d87e63ab42488dbda5db6dd1b00000000000000000000000080420b3216e87e4ed25489ef392901aafc10951b000000000000000000000000000000000000000000000000000000000000000001f7ca223c7bdd90c867484710f36cff9b5b3ea4a3df8596ec831a8d79111e5ac332e4e838671e0d31ba039c87c5fd68b25254753939f15cf0388c0f454e3552291b7f33a3c8d72a95c6750c28f26264f2ccb32a92aa0883f41a3f6ab176803631316b9bb06d8da8c9fb1decb6862eddd6f4ec988478aea0dafc8a5d0c67eefd92e51b00000000000000000000000000000000000000000000000000000000',
        gas: '0x13878',
      },
      result: {
        gasUsed: '0x1253b',
        output:
          '0x0000000000000000000000000000000000000000000000000000000000000001',
      },
      traceAddress: [],
      subtraces: 1,
      type: 'call',
      blockNumber: 15936655,
    },
    {
      action: {
        callType: 'delegatecall',
        from: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        to: '0xd9db270c1b5e3bd161e8c8503c55ceabee709552',
        value: '0x0',
        input:
          '0x6a7612020000000000000000000000005ef0d09d1e6204141b4d37530808ed19f60fba3500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024000000000000000000000000000000000000000000000000000000000000000c4a3ffb772000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8d3e1cf58386c92b27710c6a0d8a54c76bc6ab500000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000104a4ea023152243195f81a0cefe7c331dee302aa88b547e8cc43ec9df732b7eab506cd3a8dd11bdbcc498da368dfdb416bfff64b635d87e63ab42488dbda5db6dd1b00000000000000000000000080420b3216e87e4ed25489ef392901aafc10951b000000000000000000000000000000000000000000000000000000000000000001f7ca223c7bdd90c867484710f36cff9b5b3ea4a3df8596ec831a8d79111e5ac332e4e838671e0d31ba039c87c5fd68b25254753939f15cf0388c0f454e3552291b7f33a3c8d72a95c6750c28f26264f2ccb32a92aa0883f41a3f6ab176803631316b9bb06d8da8c9fb1decb6862eddd6f4ec988478aea0dafc8a5d0c67eefd92e51b00000000000000000000000000000000000000000000000000000000',
        gas: '0x1208f',
      },
      result: {
        gasUsed: '0x111b9',
        output:
          '0x0000000000000000000000000000000000000000000000000000000000000001',
      },
      traceAddress: [0],
      subtraces: 1,
      type: 'call',
      blockNumber: 15936655,
    },
    {
      action: {
        callType: 'call',
        from: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        to: '0x5ef0d09d1e6204141b4d37530808ed19f60fba35',
        value: '0x0',
        input:
          '0xa3ffb772000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8d3e1cf58386c92b27710c6a0d8a54c76bc6ab500000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001',
        gas: '0x917a',
      },
      result: { gasUsed: '0x7e26', output: '0x' },
      traceAddress: [0, 0],
      subtraces: 1,
      type: 'call',
      blockNumber: 15936655,
    },
    {
      action: {
        callType: 'delegatecall',
        from: '0x5ef0d09d1e6204141b4d37530808ed19f60fba35',
        to: '0x72f193d0f305f532c87a4b9d0a2f407a3f4f585f',
        value: '0x0',
        input:
          '0xa3ffb772000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8d3e1cf58386c92b27710c6a0d8a54c76bc6ab500000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001',
        gas: '0x730a',
      },
      result: { gasUsed: '0x6163', output: '0x' },
      traceAddress: [0, 0, 0],
      subtraces: 0,
      type: 'call',
      blockNumber: 15936655,
    },
  ],
  // Add one more, remove the first one (0x83215480dB2C6A7E56f9E99EF93AB9B36F8A3DD5)
  '0x7ab32e92affce49bee428de60459d579aaed0bd128fb25be6debdedea80075b4': [
    {
      action: {
        callType: 'call',
        from: '0x80420b3216e87e4ed25489ef392901aafc10951b',
        to: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        value: '0x0',
        input:
          '0x6a76120200000000000000000000000040a2accbd92bca938b02010e17a5b8929b49130d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000058000000000000000000000000000000000000000000000000000000000000004048d80ff0a000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000003ac005ef0d09d1e6204141b4d37530808ed19f60fba3500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000104a3ffb772000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000002000000000000000000000000b0cb1384e3f4a9a9b2447e39b05e10631e1d34b000000000000000000000000054c0d3d6c101580db3be8763a2ae2c6bb9dc840c00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100a4ba90fd7a3fa6830a8cdcc18e00309ba8c40c4b00000000000000000000000000000000000000000000000029a2241af62c0000000000000000000000000000000000000000000000000000000000000000000000a4bac4c2ec4492cd6d81550fbf42d8d698d4064700000000000000000000000000000000000000000000000029a2241af62c0000000000000000000000000000000000000000000000000000000000000000000000a4b1e63cb4901e327597bc35d36fe8a23e4c253f0000000000000000000000000000000000000000000000003782dace9d900000000000000000000000000000000000000000000000000000000000000000000000a4b10e66d8ef182a07ec8913743b6985d5ed7bb800000000000000000000000000000000000000000000000029a2241af62c0000000000000000000000000000000000000000000000000000000000000000000000e64a54e2533fd126c2e452c5fab544d80e2e4eb500000000000000000000000000000000000000000000001043561a8829300000000000000000000000000000000000000000000000000000000000000000000000b26ee4ad014f3377979eaf8d3a269077ff13c1f7000000000000000000000000000000000000000000000001158e460913d0000000000000000000000000000000000000000000000000000000000000000000000080420b3216e87e4ed25489ef392901aafc10951b000000000000000000000000000000000000000000000001a055690d9db80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001048a729d5dd1badb1ab84c1cb4c1cb641d5edbf241e3546b14ec14bd1f1949cbf541ddb1b9b84dfae6fe5604abb8105ab59214a7be5a41d422f928f4482e575c771b0e25ec28e0ab58c696b9161233ca060626ed50d2cc2019edafd3771588803d7031a49538738eb134fd388347fc1720e1fda9a3ee22ffe91ce589e27b22eb23f31bbda4ebbe1bf9640ca01c03d03a3acdadaf51ff41d138967d96a0e3ea449e244a168b583d52816fa24f3b7b2bad6cf19b3b66268f38be945d9194e8d408dd20571cc48a8c5ec39bc4d4d34f8ff05936f186162766b999745ae630db82fa1743b74574f5d928bb0eddb6cfac095d12740cf2e9b9610c1575b2d33e87ee563cb1f6791c00000000000000000000000000000000000000000000000000000000',
        gas: '0x314b0',
      },
      result: {
        gasUsed: '0x2fdd2',
        output:
          '0x0000000000000000000000000000000000000000000000000000000000000001',
      },
      traceAddress: [],
      subtraces: 1,
      type: 'call',
      blockNumber: 15714438,
    },
    {
      action: {
        callType: 'delegatecall',
        from: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        to: '0xd9db270c1b5e3bd161e8c8503c55ceabee709552',
        value: '0x0',
        input:
          '0x6a76120200000000000000000000000040a2accbd92bca938b02010e17a5b8929b49130d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000058000000000000000000000000000000000000000000000000000000000000004048d80ff0a000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000003ac005ef0d09d1e6204141b4d37530808ed19f60fba3500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000104a3ffb772000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000002000000000000000000000000b0cb1384e3f4a9a9b2447e39b05e10631e1d34b000000000000000000000000054c0d3d6c101580db3be8763a2ae2c6bb9dc840c00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100a4ba90fd7a3fa6830a8cdcc18e00309ba8c40c4b00000000000000000000000000000000000000000000000029a2241af62c0000000000000000000000000000000000000000000000000000000000000000000000a4bac4c2ec4492cd6d81550fbf42d8d698d4064700000000000000000000000000000000000000000000000029a2241af62c0000000000000000000000000000000000000000000000000000000000000000000000a4b1e63cb4901e327597bc35d36fe8a23e4c253f0000000000000000000000000000000000000000000000003782dace9d900000000000000000000000000000000000000000000000000000000000000000000000a4b10e66d8ef182a07ec8913743b6985d5ed7bb800000000000000000000000000000000000000000000000029a2241af62c0000000000000000000000000000000000000000000000000000000000000000000000e64a54e2533fd126c2e452c5fab544d80e2e4eb500000000000000000000000000000000000000000000001043561a8829300000000000000000000000000000000000000000000000000000000000000000000000b26ee4ad014f3377979eaf8d3a269077ff13c1f7000000000000000000000000000000000000000000000001158e460913d0000000000000000000000000000000000000000000000000000000000000000000000080420b3216e87e4ed25489ef392901aafc10951b000000000000000000000000000000000000000000000001a055690d9db80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001048a729d5dd1badb1ab84c1cb4c1cb641d5edbf241e3546b14ec14bd1f1949cbf541ddb1b9b84dfae6fe5604abb8105ab59214a7be5a41d422f928f4482e575c771b0e25ec28e0ab58c696b9161233ca060626ed50d2cc2019edafd3771588803d7031a49538738eb134fd388347fc1720e1fda9a3ee22ffe91ce589e27b22eb23f31bbda4ebbe1bf9640ca01c03d03a3acdadaf51ff41d138967d96a0e3ea449e244a168b583d52816fa24f3b7b2bad6cf19b3b66268f38be945d9194e8d408dd20571cc48a8c5ec39bc4d4d34f8ff05936f186162766b999745ae630db82fa1743b74574f5d928bb0eddb6cfac095d12740cf2e9b9610c1575b2d33e87ee563cb1f6791c00000000000000000000000000000000000000000000000000000000',
        gas: '0x2f4b9',
      },
      result: {
        gasUsed: '0x2e9b0',
        output:
          '0x0000000000000000000000000000000000000000000000000000000000000001',
      },
      traceAddress: [0],
      subtraces: 1,
      type: 'call',
      blockNumber: 15714438,
    },
    {
      action: {
        callType: 'delegatecall',
        from: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        to: '0x40a2accbd92bca938b02010e17a5b8929b49130d',
        value: '0x0',
        input:
          '0x8d80ff0a000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000003ac005ef0d09d1e6204141b4d37530808ed19f60fba3500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000104a3ffb772000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000002000000000000000000000000b0cb1384e3f4a9a9b2447e39b05e10631e1d34b000000000000000000000000054c0d3d6c101580db3be8763a2ae2c6bb9dc840c00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100a4ba90fd7a3fa6830a8cdcc18e00309ba8c40c4b00000000000000000000000000000000000000000000000029a2241af62c0000000000000000000000000000000000000000000000000000000000000000000000a4bac4c2ec4492cd6d81550fbf42d8d698d4064700000000000000000000000000000000000000000000000029a2241af62c0000000000000000000000000000000000000000000000000000000000000000000000a4b1e63cb4901e327597bc35d36fe8a23e4c253f0000000000000000000000000000000000000000000000003782dace9d900000000000000000000000000000000000000000000000000000000000000000000000a4b10e66d8ef182a07ec8913743b6985d5ed7bb800000000000000000000000000000000000000000000000029a2241af62c0000000000000000000000000000000000000000000000000000000000000000000000e64a54e2533fd126c2e452c5fab544d80e2e4eb500000000000000000000000000000000000000000000001043561a8829300000000000000000000000000000000000000000000000000000000000000000000000b26ee4ad014f3377979eaf8d3a269077ff13c1f7000000000000000000000000000000000000000000000001158e460913d0000000000000000000000000000000000000000000000000000000000000000000000080420b3216e87e4ed25489ef392901aafc10951b000000000000000000000000000000000000000000000001a055690d9db8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
        gas: '0x25036',
      },
      result: { gasUsed: '0x247bc', output: '0x' },
      traceAddress: [0, 0],
      subtraces: 8,
      type: 'call',
      blockNumber: 15714438,
    },
    {
      action: {
        callType: 'call',
        from: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        to: '0x5ef0d09d1e6204141b4d37530808ed19f60fba35',
        value: '0x0',
        input:
          '0xa3ffb772000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000200000000000000000000000083215480db2c6a7e56f9e99ef93ab9b36f8a3dd500000000000000000000000054c0d3d6c101580db3be8763a2ae2c6bb9dc840c000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
        gas: '0x239ad',
      },
      result: { gasUsed: '0xd723', output: '0x' },
      traceAddress: [0, 0, 0],
      subtraces: 1,
      type: 'call',
      blockNumber: 15714438,
    },
    {
      action: {
        callType: 'delegatecall',
        from: '0x5ef0d09d1e6204141b4d37530808ed19f60fba35',
        to: '0x72f193d0f305f532c87a4b9d0a2f407a3f4f585f',
        value: '0x0',
        input:
          '0xa3ffb772000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000200000000000000000000000083215480db2c6a7e56f9e99ef93ab9b36f8a3dd500000000000000000000000054c0d3d6c101580db3be8763a2ae2c6bb9dc840c000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
        gas: '0x21490',
      },
      result: { gasUsed: '0xba54', output: '0x' },
      traceAddress: [0, 0, 0, 0],
      subtraces: 0,
      type: 'call',
      blockNumber: 15714438,
    },
    {
      action: {
        callType: 'call',
        from: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        to: '0xa4ba90fd7a3fa6830a8cdcc18e00309ba8c40c4b',
        value: '0x29a2241af62c0000',
        input: '0x',
        gas: '0x1414b',
      },
      result: { gasUsed: '0x0', output: '0x' },
      traceAddress: [0, 0, 1],
      subtraces: 0,
      type: 'call',
      blockNumber: 15714438,
    },
    {
      action: {
        callType: 'call',
        from: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        to: '0xa4bac4c2ec4492cd6d81550fbf42d8d698d40647',
        value: '0x29a2241af62c0000',
        input: '0x',
        gas: '0x11c8d',
      },
      result: { gasUsed: '0x0', output: '0x' },
      traceAddress: [0, 0, 2],
      subtraces: 0,
      type: 'call',
      blockNumber: 15714438,
    },
    {
      action: {
        callType: 'call',
        from: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        to: '0xa4b1e63cb4901e327597bc35d36fe8a23e4c253f',
        value: '0x3782dace9d900000',
        input: '0x',
        gas: '0xf7ce',
      },
      result: { gasUsed: '0x0', output: '0x' },
      traceAddress: [0, 0, 3],
      subtraces: 0,
      type: 'call',
      blockNumber: 15714438,
    },
    {
      action: {
        callType: 'call',
        from: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        to: '0xa4b10e66d8ef182a07ec8913743b6985d5ed7bb8',
        value: '0x29a2241af62c0000',
        input: '0x',
        gas: '0xd30f',
      },
      result: { gasUsed: '0x0', output: '0x' },
      traceAddress: [0, 0, 4],
      subtraces: 0,
      type: 'call',
      blockNumber: 15714438,
    },
    {
      action: {
        callType: 'call',
        from: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        to: '0xe64a54e2533fd126c2e452c5fab544d80e2e4eb5',
        value: '0x1043561a8829300000',
        input: '0x',
        gas: '0xae51',
      },
      result: { gasUsed: '0x568', output: '0x' },
      traceAddress: [0, 0, 5],
      subtraces: 0,
      type: 'call',
      blockNumber: 15714438,
    },
    {
      action: {
        callType: 'call',
        from: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        to: '0xb26ee4ad014f3377979eaf8d3a269077ff13c1f7',
        value: '0x1158e460913d00000',
        input: '0x',
        gas: '0x241e',
      },
      result: { gasUsed: '0x0', output: '0x' },
      traceAddress: [0, 0, 6],
      subtraces: 0,
      type: 'call',
      blockNumber: 15714438,
    },
    {
      action: {
        callType: 'call',
        from: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        to: '0x80420b3216e87e4ed25489ef392901aafc10951b',
        value: '0x1a055690d9db80000',
        input: '0x',
        gas: '0x8fc',
      },
      result: { gasUsed: '0x0', output: '0x' },
      traceAddress: [0, 0, 7],
      subtraces: 0,
      type: 'call',
      blockNumber: 15714438,
    },
  ],
}

const EXAMPLE_BATCHPOSTERS_LOGS = [
  {
    blockNumber: 15444021,
    blockHash:
      '0x44c40df7bd99a93971e5a082c68f5d042d73bdf4daad8c63d88c99201d93efce',
    transactionIndex: 73,
    removed: false,
    address: '0x1c479675ad559DC151F6Ec7ed3FbF8ceE79582B6',
    data: '0x',
    topics: [
      '0xea8787f128d10b2cc0317b0c3960f9ad447f7f6c1ed189db1083ccffd20f456e',
      '0x0000000000000000000000000000000000000000000000000000000000000001',
    ],
    transactionHash:
      '0x07bbd6efdc155699ab2807c0d1509e98e06aa58ce25f208f09c03899f3a128cd',
    logIndex: 124,
  },
  {
    blockNumber: 16327016,
    blockHash:
      '0xf065a605ad32cff40776a45b6e44d722526ce8d10ebbf1fa47edbe9b9ae04de8',
    transactionIndex: 190,
    removed: false,
    address: '0x1c479675ad559DC151F6Ec7ed3FbF8ceE79582B6',
    data: '0x',
    topics: [
      '0xea8787f128d10b2cc0317b0c3960f9ad447f7f6c1ed189db1083ccffd20f456e',
      '0x0000000000000000000000000000000000000000000000000000000000000001',
    ],
    transactionHash:
      '0x8b5e0844ef0e020eb1569330fa38161de3af85442fc98c438b52feae018c32cd',
    logIndex: 440,
  },
  {
    blockNumber: 16342010,
    blockHash:
      '0x7b161a378ea1c97e179a5e4dd7ddb94acb2360d91141d88b7b23861d1c76e6fb',
    transactionIndex: 123,
    removed: false,
    address: '0x1c479675ad559DC151F6Ec7ed3FbF8ceE79582B6',
    data: '0x',
    topics: [
      '0xea8787f128d10b2cc0317b0c3960f9ad447f7f6c1ed189db1083ccffd20f456e',
      '0x0000000000000000000000000000000000000000000000000000000000000001',
    ],
    transactionHash:
      '0x8f9885966ad4db41df3fb10dcfa619ca16203bd4ab2782821e1aeaffa94b61af',
    logIndex: 271,
  },
]

const EXAMPLE_BATCHPOSTERS_TRACES: Record<string, unknown> = {
  '0x07bbd6efdc155699ab2807c0d1509e98e06aa58ce25f208f09c03899f3a128cd': [
    {
      action: {
        callType: 'call',
        from: '0x80420b3216e87e4ed25489ef392901aafc10951b',
        to: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        value: '0x0',
        input:
          '0x6a76120200000000000000000000000040a2accbd92bca938b02010e17a5b8929b49130d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006e000000000000000000000000000000000000000000000000000000000000005648d80ff0a0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000050f0071d78dc7ccc0e037e12de1e50f5470903ce371480000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004499a88ec4000000000000000000000000c1ebd02f738644983b6c4b2d440b8e77dde276bd0000000000000000000000001066cecc8880948fe55e427e94f1ff221d6265910071d78dc7ccc0e037e12de1e50f5470903ce371480000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004499a88ec4000000000000000000000000211e1c4c7f1bf5351ac850ed10fd68cffcf6c21b00000000000000000000000016242595cafa3a207e9354e3bdb000b59ba8287500554723262467f125ac9e1cdfa9ce15cc53822dbd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004499a88ec40000000000000000000000008315177ab297ba92a06054ce80a67ed4dbd7ed3a0000000000000000000000001066cecc8880948fe55e427e94f1ff221d62659100554723262467f125ac9e1cdfa9ce15cc53822dbd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004499a88ec40000000000000000000000001c479675ad559dc151f6ec7ed3fbf8cee79582b600000000000000000000000016242595cafa3a207e9354e3bdb000b59ba8287500e64a54e2533fd126c2e452c5fab544d80e2e4eb500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000064ca10129500000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000a4b1e63cb4901e327597bc35d36fe8a23e4c253f00e64a54e2533fd126c2e452c5fab544d80e2e4eb50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006425416bc9000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000010000000000000000000000001c479675ad559dc151f6ec7ed3fbf8cee79582b600a4b4c1a067c61fdd5e83aa864d74b2329d235fad000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e4ce1d571f00000000000000000000000000000000000000000000000000000000000000600000000000000000000000001c479675ad559dc151f6ec7ed3fbf8cee79582b6000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000446e7df3e7000000000000000000000000a4b1e63cb4901e327597bc35d36fe8a23e4c253f00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001041b2ed327edee31200aa7dc98c79a1ad3ed68211c1d70847248b5a6d3c496637206edc2755fc2c82d999981b8f48cff597f30e3e7bfbd27a6ed55a095e54543b91c2e3278a4a43c5ec62cf623c0fc6e486af846a8cc4be64ab72ccca8d1c790c21e78db9ae253f71c6b5ad25120017a2b41f8dda09272d224dcc713c7e59c3e19011bd36574a2160340e898a253eaed1ef2dfc509e4575aecd5a7e8eaedc2d3e3b4a957ee6b01db075731104aad4d515072d887ae9d4c4d9dac3fca02e2c5a30e87df1c64cafe1cb566c9310e51a8837a303fe6e3a1023f72454246364abdf883f849461face6244340e80d14fc5be4c5c04c4a36c1ebcceaa76e7ba2ecd2ec432c605d1b00000000000000000000000000000000000000000000000000000000',
        gas: '0x37cb4',
      },
      result: {
        gasUsed: '0x365d6',
        output:
          '0x0000000000000000000000000000000000000000000000000000000000000001',
      },
      traceAddress: [],
      subtraces: 1,
      type: 'call',
      blockNumber: 15444021,
    },
    {
      action: {
        callType: 'call',
        from: '0xa4b4c1a067c61fdd5e83aa864d74b2329d235fad',
        to: '0x1c479675ad559dc151f6ec7ed3fbf8cee79582b6',
        value: '0x0',
        input:
          '0x6e7df3e7000000000000000000000000a4b1e63cb4901e327597bc35d36fe8a23e4c253f0000000000000000000000000000000000000000000000000000000000000001',
        gas: '0x9c48',
      },
      result: { gasUsed: '0x936c', output: '0x' },
      traceAddress: [0, 0, 6, 0, 0],
      subtraces: 1,
      type: 'call',
      blockNumber: 15444021,
    },
    {
      action: {
        callType: 'delegatecall',
        from: '0x1c479675ad559dc151f6ec7ed3fbf8cee79582b6',
        to: '0x16242595cafa3a207e9354e3bdb000b59ba82875',
        value: '0x0',
        input:
          '0x6e7df3e7000000000000000000000000a4b1e63cb4901e327597bc35d36fe8a23e4c253f0000000000000000000000000000000000000000000000000000000000000001',
        gas: '0x96d7',
      },
      result: { gasUsed: '0x9039', output: '0x' },
      traceAddress: [0, 0, 6, 0, 0, 0],
      subtraces: 1,
      type: 'call',
      blockNumber: 15444021,
    },
  ],
  '0x8b5e0844ef0e020eb1569330fa38161de3af85442fc98c438b52feae018c32cd': [
    {
      action: {
        callType: 'call',
        from: '0x80420b3216e87e4ed25489ef392901aafc10951b',
        to: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        value: '0x0',
        input:
          '0x6a76120200000000000000000000000040a2accbd92bca938b02010e17a5b8929b49130d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006e000000000000000000000000000000000000000000000000000000000000005648d80ff0a0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000050f0071d78dc7ccc0e037e12de1e50f5470903ce371480000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004499a88ec4000000000000000000000000c1ebd02f738644983b6c4b2d440b8e77dde276bd0000000000000000000000001066cecc8880948fe55e427e94f1ff221d6265910071d78dc7ccc0e037e12de1e50f5470903ce371480000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004499a88ec4000000000000000000000000211e1c4c7f1bf5351ac850ed10fd68cffcf6c21b00000000000000000000000016242595cafa3a207e9354e3bdb000b59ba8287500554723262467f125ac9e1cdfa9ce15cc53822dbd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004499a88ec40000000000000000000000008315177ab297ba92a06054ce80a67ed4dbd7ed3a0000000000000000000000001066cecc8880948fe55e427e94f1ff221d62659100554723262467f125ac9e1cdfa9ce15cc53822dbd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004499a88ec40000000000000000000000001c479675ad559dc151f6ec7ed3fbf8cee79582b600000000000000000000000016242595cafa3a207e9354e3bdb000b59ba8287500e64a54e2533fd126c2e452c5fab544d80e2e4eb500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000064ca10129500000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000a4b1e63cb4901e327597bc35d36fe8a23e4c253f00e64a54e2533fd126c2e452c5fab544d80e2e4eb50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006425416bc9000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000010000000000000000000000001c479675ad559dc151f6ec7ed3fbf8cee79582b600a4b4c1a067c61fdd5e83aa864d74b2329d235fad000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e4ce1d571f00000000000000000000000000000000000000000000000000000000000000600000000000000000000000001c479675ad559dc151f6ec7ed3fbf8cee79582b6000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000446e7df3e7000000000000000000000000a4b1e63cb4901e327597bc35d36fe8a23e4c253f00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001041b2ed327edee31200aa7dc98c79a1ad3ed68211c1d70847248b5a6d3c496637206edc2755fc2c82d999981b8f48cff597f30e3e7bfbd27a6ed55a095e54543b91c2e3278a4a43c5ec62cf623c0fc6e486af846a8cc4be64ab72ccca8d1c790c21e78db9ae253f71c6b5ad25120017a2b41f8dda09272d224dcc713c7e59c3e19011bd36574a2160340e898a253eaed1ef2dfc509e4575aecd5a7e8eaedc2d3e3b4a957ee6b01db075731104aad4d515072d887ae9d4c4d9dac3fca02e2c5a30e87df1c64cafe1cb566c9310e51a8837a303fe6e3a1023f72454246364abdf883f849461face6244340e80d14fc5be4c5c04c4a36c1ebcceaa76e7ba2ecd2ec432c605d1b00000000000000000000000000000000000000000000000000000000',
        gas: '0x37cb4',
      },
      result: {
        gasUsed: '0x365d6',
        output:
          '0x0000000000000000000000000000000000000000000000000000000000000001',
      },
      traceAddress: [],
      subtraces: 1,
      type: 'call',
      blockNumber: 15444021,
    },
    {
      action: {
        callType: 'call',
        from: '0xa4b4c1a067c61fdd5e83aa864d74b2329d235fad',
        to: '0x1c479675ad559dc151f6ec7ed3fbf8cee79582b6',
        value: '0x0',
        input:
          '0x6e7df3e70000000000000000000000000c5911d57b24fcf1dc8b2608efbae57c7098e32d0000000000000000000000000000000000000000000000000000000000000001',
        gas: '0x9c48',
      },
      result: { gasUsed: '0x936c', output: '0x' },
      traceAddress: [0, 0, 6, 0, 0],
      subtraces: 1,
      type: 'call',
      blockNumber: 15444021,
    },
    {
      action: {
        callType: 'delegatecall',
        from: '0x1c479675ad559dc151f6ec7ed3fbf8cee79582b6',
        to: '0x16242595cafa3a207e9354e3bdb000b59ba82875',
        value: '0x0',
        input:
          '0x6e7df3e70000000000000000000000000c5911d57b24fcf1dc8b2608efbae57c7098e32d0000000000000000000000000000000000000000000000000000000000000001',
        gas: '0x96d7',
      },
      result: { gasUsed: '0x9039', output: '0x' },
      traceAddress: [0, 0, 6, 0, 0, 0],
      subtraces: 1,
      type: 'call',
      blockNumber: 15444021,
    },
  ],
  '0x8f9885966ad4db41df3fb10dcfa619ca16203bd4ab2782821e1aeaffa94b61af': [
    {
      action: {
        callType: 'call',
        from: '0x80420b3216e87e4ed25489ef392901aafc10951b',
        to: '0xc234e41ae2cb00311956aa7109fc801ae8c80941',
        value: '0x0',
        input:
          '0x6a76120200000000000000000000000040a2accbd92bca938b02010e17a5b8929b49130d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006e000000000000000000000000000000000000000000000000000000000000005648d80ff0a0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000050f0071d78dc7ccc0e037e12de1e50f5470903ce371480000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004499a88ec4000000000000000000000000c1ebd02f738644983b6c4b2d440b8e77dde276bd0000000000000000000000001066cecc8880948fe55e427e94f1ff221d6265910071d78dc7ccc0e037e12de1e50f5470903ce371480000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004499a88ec4000000000000000000000000211e1c4c7f1bf5351ac850ed10fd68cffcf6c21b00000000000000000000000016242595cafa3a207e9354e3bdb000b59ba8287500554723262467f125ac9e1cdfa9ce15cc53822dbd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004499a88ec40000000000000000000000008315177ab297ba92a06054ce80a67ed4dbd7ed3a0000000000000000000000001066cecc8880948fe55e427e94f1ff221d62659100554723262467f125ac9e1cdfa9ce15cc53822dbd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004499a88ec40000000000000000000000001c479675ad559dc151f6ec7ed3fbf8cee79582b600000000000000000000000016242595cafa3a207e9354e3bdb000b59ba8287500e64a54e2533fd126c2e452c5fab544d80e2e4eb500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000064ca10129500000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000a4b1e63cb4901e327597bc35d36fe8a23e4c253f00e64a54e2533fd126c2e452c5fab544d80e2e4eb50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006425416bc9000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000010000000000000000000000001c479675ad559dc151f6ec7ed3fbf8cee79582b600a4b4c1a067c61fdd5e83aa864d74b2329d235fad000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e4ce1d571f00000000000000000000000000000000000000000000000000000000000000600000000000000000000000001c479675ad559dc151f6ec7ed3fbf8cee79582b6000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000446e7df3e7000000000000000000000000a4b1e63cb4901e327597bc35d36fe8a23e4c253f00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001041b2ed327edee31200aa7dc98c79a1ad3ed68211c1d70847248b5a6d3c496637206edc2755fc2c82d999981b8f48cff597f30e3e7bfbd27a6ed55a095e54543b91c2e3278a4a43c5ec62cf623c0fc6e486af846a8cc4be64ab72ccca8d1c790c21e78db9ae253f71c6b5ad25120017a2b41f8dda09272d224dcc713c7e59c3e19011bd36574a2160340e898a253eaed1ef2dfc509e4575aecd5a7e8eaedc2d3e3b4a957ee6b01db075731104aad4d515072d887ae9d4c4d9dac3fca02e2c5a30e87df1c64cafe1cb566c9310e51a8837a303fe6e3a1023f72454246364abdf883f849461face6244340e80d14fc5be4c5c04c4a36c1ebcceaa76e7ba2ecd2ec432c605d1b00000000000000000000000000000000000000000000000000000000',
        gas: '0x37cb4',
      },
      result: {
        gasUsed: '0x365d6',
        output:
          '0x0000000000000000000000000000000000000000000000000000000000000001',
      },
      traceAddress: [],
      subtraces: 1,
      type: 'call',
      blockNumber: 15444021,
    },
    {
      action: {
        callType: 'call',
        from: '0xa4b4c1a067c61fdd5e83aa864d74b2329d235fad',
        to: '0x1c479675ad559dc151f6ec7ed3fbf8cee79582b6',
        value: '0x0',
        input:
          '0x6e7df3e7000000000000000000000000a4b1e63cb4901e327597bc35d36fe8a23e4c253f0000000000000000000000000000000000000000000000000000000000000000',
        gas: '0x9c48',
      },
      result: { gasUsed: '0x936c', output: '0x' },
      traceAddress: [0, 0, 6, 0, 0],
      subtraces: 1,
      type: 'call',
      blockNumber: 15444021,
    },
    {
      action: {
        callType: 'delegatecall',
        from: '0x1c479675ad559dc151f6ec7ed3fbf8cee79582b6',
        to: '0x16242595cafa3a207e9354e3bdb000b59ba82875',
        value: '0x0',
        input:
          '0x6e7df3e7000000000000000000000000a4b1e63cb4901e327597bc35d36fe8a23e4c253f0000000000000000000000000000000000000000000000000000000000000000',
        gas: '0x96d7',
      },
      result: { gasUsed: '0x9039', output: '0x' },
      traceAddress: [0, 0, 6, 0, 0, 0],
      subtraces: 1,
      type: 'call',
      blockNumber: 15444021,
    },
  ],
}
